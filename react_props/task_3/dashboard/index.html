<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Holberton Dashboard - Task 3</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- React DevTools détectera React du CDN en mode dev -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
      body { font-family: ui-sans-serif, system-ui, Arial; margin: 24px; }
      header { border-bottom: 3px solid #e0354b; padding-bottom: 8px; margin-bottom: 16px; display:flex; align-items:center; gap:12px; }
      .logo { width: 80px; height: 80px; background:#ddd; display:inline-block; border-radius:4px; }
      ul { margin-top: 8px; }
      li { padding: 4px 0; }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
      // === Composants minimaux pour la démo DevTools ===
      const { useMemo } = React;

      function NotificationItem({ type, value, html }) {
        const color = type === "urgent" ? "red" : "blue";
        if (html) {
          return <li data-notification-type={type} style={{ color }} dangerouslySetInnerHTML={html} />;
        }
        return <li data-notification-type={type} style={{ color }}>{value}</li>;
      }

      function Notifications({ notifications = [] }) {
        return (
          <aside className="notifications" aria-label="Notifications">
            <p>Here is the list of notifications</p>
            <ul>
              {notifications.map(n => (
                <NotificationItem key={n.id} type={n.type} value={n.value} html={n.html} />
              ))}
            </ul>
          </aside>
        );
      }

      function Header() {
        return (
          <header>
            <span className="logo" aria-hidden="true"></span>
            <h1>School dashboard</h1>
          </header>
        );
      }

      function Login() {
        return (
          <main>
            <p>Login to access the full dashboard</p>
            <form onSubmit={(e)=>e.preventDefault()}>
              <label htmlFor="email">Email</label>
              <input id="email" type="email" />
              <label htmlFor="password" style={{ marginLeft: 8 }}>Password</label>
              <input id="password" type="password" />
              <button style={{ marginLeft: 8 }}>OK</button>
            </form>
          </main>
        );
      }

      function Footer() {
        return <footer style={{ marginTop: 24 }}>Copyright {new Date().getFullYear()} - Holberton School</footer>;
      }

      function App() {
        // === notificationsList à l’intérieur d’App ===
        const notificationsList = useMemo(() => ([
          { id: 1, type: "default", value: "New course available" }, // <- tu vas basculer default -> urgent dans DevTools
          { id: 2, type: "urgent",  value: "New resume available" },
          { id: 3, type: "urgent",  html: { __html: "<strong>Urgent requirement</strong> - complete by EOD" } },
        ]), []);

        return (
          <>
            <Header />
            <Login />
            <Notifications notifications={notificationsList} />
            <Footer />
          </>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
